{
	"name": "eOverworld",
	"events": [
		{
			"eventType": "include",
			"includeSheet": "eCommon"
		},
		{
			"eventType": "variable",
			"name": "CurrentCameraLerp",
			"type": "number",
			"initialValue": "0.135",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 658748934435265
		},
		{
			"eventType": "variable",
			"name": "TileSize",
			"type": "number",
			"initialValue": "32",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 648488267133624
		},
		{
			"eventType": "variable",
			"name": "CurrentJumpOffset",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 770090426859727
		},
		{
			"eventType": "variable",
			"name": "EnemyMovementLerp",
			"type": "number",
			"initialValue": "0.02",
			"comment": "",
			"isStatic": false,
			"isConstant": true,
			"sid": 710135160312582
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 554265344405321
				}
			],
			"actions": [
				{
					"callFunction": "SpawnEnemy",
					"sid": 105441409784529,
					"disabled": true,
					"parameters": [
						"120",
						"150"
					]
				},
				{
					"callFunction": "SpawnEnemy",
					"sid": 961724541438228,
					"disabled": true,
					"parameters": [
						"200",
						"150"
					]
				},
				{
					"callFunction": "SpawnEnemy",
					"sid": 652670867488711,
					"disabled": true,
					"parameters": [
						"120",
						"300"
					]
				},
				{
					"callFunction": "InitEnemies",
					"sid": 667209442706001
				},
				{
					"callFunction": "SpawnPlayer",
					"sid": 641598711359694,
					"parameters": [
						"SpawnX",
						"SpawnY"
					]
				},
				{
					"callFunction": "SpawnLayoutNPCs",
					"sid": 443707828195452
				}
			],
			"sid": 323895198121661
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "every-tick",
					"objectClass": "System",
					"sid": 964236382778891
				}
			],
			"actions": [
				{
					"id": "set-position",
					"objectClass": "2DCamera",
					"sid": 557270500362494,
					"parameters": {
						"x": "lerp(2DCamera.X, BasePlayer.X, CurrentCameraLerp)",
						"y": "lerp(2DCamera.Y, BasePlayer.Y, CurrentCameraLerp)"
					}
				},
				{
					"id": "set-position",
					"objectClass": "PlayerArt",
					"sid": 201322856276925,
					"parameters": {
						"x": "BasePlayer.X",
						"y": "BasePlayer.Y - CurrentJumpOffset"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 372069879914245,
					"parameters": {
						"variable": "CurrentJumpOffset",
						"value": "PlatformSimFloor.Y - PlatformSimPlayer.Y"
					}
				},
				{
					"callFunction": "UpdateEnemies",
					"sid": 569966034023156
				},
				{
					"callFunction": "UpdateDebugTexts",
					"sid": 202021810284406
				}
			],
			"sid": 135654400030545
		},
		{
			"functionName": "SpawnLayoutNPCs",
			"functionDescription": "Spawns NPCs based on information from the LayoutNPCs json data.",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "request-project-file",
					"objectClass": "AJAX",
					"sid": 266977981810073,
					"parameters": {
						"tag": "\"LayoutNPCData\"",
						"file": "LayoutNPCs.json"
					}
				},
				{
					"id": "wait-for-previous-actions",
					"objectClass": "System",
					"sid": 748507815795924
				},
				{
					"id": "parse",
					"objectClass": "LayoutNPCs",
					"sid": 887460205837773,
					"parameters": {
						"data": "AJAX.LastData"
					}
				}
			],
			"sid": 901303443086541,
			"children": [
				{
					"eventType": "variable",
					"name": "next_layout_name",
					"type": "string",
					"initialValue": "NULL",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 144880974082966
				},
				{
					"eventType": "variable",
					"name": "next_layout_npcs",
					"type": "string",
					"initialValue": "NULL",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 224020086899575
				},
				{
					"eventType": "variable",
					"name": "layout_count_for_npcs",
					"type": "number",
					"initialValue": "-1",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 687108649580203
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 247919615695832,
							"parameters": {
								"variable": "layout_count_for_npcs",
								"value": "int(LayoutNPCs.ArraySize(\"Layouts\"))"
							}
						},
						{
							"id": "log",
							"objectClass": "Browser",
							"sid": 299206832710954,
							"parameters": {
								"type": "warn",
								"message": "Functions.UtilNumberStringBuilder(\"Layout count for NPC generation is: \", layout_count_for_npcs, \"\")"
							}
						}
					],
					"sid": 435556462561943
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for",
							"objectClass": "System",
							"sid": 945094306969176,
							"parameters": {
								"name": "\"i\"",
								"start-index": "0",
								"end-index": "layout_count_for_npcs-1"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 514818684205974,
							"parameters": {
								"variable": "next_layout_name",
								"value": "LayoutNPCs.Get(\"Layouts.\"&loopindex(\"i\")&\".LayoutName\")"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 154313103845326,
							"parameters": {
								"variable": "next_layout_npcs",
								"value": "LayoutNPCs.GetAsCompactString(\"Layouts.\"&loopindex(\"i\")&\".NPCs\")"
							}
						},
						{
							"id": "log",
							"objectClass": "Browser",
							"sid": 630721169888182,
							"parameters": {
								"type": "warn",
								"message": "next_layout_name"
							}
						},
						{
							"id": "log",
							"objectClass": "Browser",
							"sid": 152062349570704,
							"parameters": {
								"type": "warn",
								"message": "Functions.UtilDataStringBuilder(\"NPCs as json array: \", next_layout_npcs, \"\")"
							}
						}
					],
					"sid": 243311955209068,
					"children": [
						{
							"eventType": "variable",
							"name": "npcs_count_for_layout",
							"type": "number",
							"initialValue": "-1",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 368975107119669
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 194234711984172,
									"parameters": {
										"first-value": "next_layout_name",
										"comparison": 0,
										"second-value": "LayoutName"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 182152886576977,
									"parameters": {
										"variable": "npcs_count_for_layout",
										"value": "int(LayoutNPCs.ArraySize(\"Layouts.\"&loopindex(\"i\")&\".NPCs\"))"
									}
								},
								{
									"id": "log",
									"objectClass": "Browser",
									"sid": 372366020356065,
									"parameters": {
										"type": "warn",
										"message": "Functions.UtilNumberStringBuilder(\"NPC count is: \", npcs_count_for_layout, \"\")"
									}
								}
							],
							"sid": 273882242355310,
							"children": [
								{
									"eventType": "variable",
									"name": "next_npc_name",
									"type": "string",
									"initialValue": "NULL",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 194458544745568
								},
								{
									"eventType": "variable",
									"name": "next_npc_spawn_tile_x",
									"type": "number",
									"initialValue": "-1",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 628856112166934
								},
								{
									"eventType": "variable",
									"name": "next_npc_spawn_tile_y",
									"type": "number",
									"initialValue": "-1",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 306518993757207
								},
								{
									"eventType": "variable",
									"name": "next_npc_color",
									"type": "string",
									"initialValue": "NULL",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 892045590818154
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for",
											"objectClass": "System",
											"sid": 901446025874813,
											"parameters": {
												"name": "\"j\"",
												"start-index": "0",
												"end-index": "npcs_count_for_layout-1"
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 417306066587786,
											"parameters": {
												"variable": "next_npc_name",
												"value": "LayoutNPCs.Get(\"Layouts.\"&loopindex(\"i\")&\".NPCs.\"&loopindex(\"j\")&\".CharacterName\")"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 851827736808968,
											"parameters": {
												"variable": "next_npc_spawn_tile_x",
												"value": "LayoutNPCs.Get(\"Layouts.\"&loopindex(\"i\")&\".NPCs.\"&loopindex(\"j\")&\".TileX\")"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 764707440628283,
											"parameters": {
												"variable": "next_npc_spawn_tile_y",
												"value": "LayoutNPCs.Get(\"Layouts.\"&loopindex(\"i\")&\".NPCs.\"&loopindex(\"j\")&\".TileY\")"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 903196219949039,
											"parameters": {
												"variable": "next_npc_color",
												"value": "LayoutNPCs.GetAsCompactString(\"Layouts.\"&loopindex(\"i\")&\".NPCs.\"&loopindex(\"j\")&\".Color\")"
											}
										},
										{
											"id": "log",
											"objectClass": "Browser",
											"sid": 451587135582982,
											"parameters": {
												"type": "warn",
												"message": "Functions.UtilDataStringBuilder(\"Next NPCs is: \", next_npc_name, \"\")"
											}
										},
										{
											"id": "log",
											"objectClass": "Browser",
											"sid": 249498313084432,
											"parameters": {
												"type": "warn",
												"message": "Functions.UtilNumberStringBuilder(\"Next NPCs spawn tile X coordinate is: \", next_npc_spawn_tile_x, \"\")"
											}
										},
										{
											"id": "log",
											"objectClass": "Browser",
											"sid": 361932183219580,
											"parameters": {
												"type": "warn",
												"message": "Functions.UtilNumberStringBuilder(\"Next NPCs spawn tile Y coordinate is: \", next_npc_spawn_tile_y, \"\")"
											}
										},
										{
											"id": "log",
											"objectClass": "Browser",
											"sid": 678123958755089,
											"parameters": {
												"type": "warn",
												"message": "Functions.UtilDataStringBuilder(\"Next NPCs color data: \", next_npc_color, \"\")"
											}
										},
										{
											"callFunction": "SpawnNPC",
											"sid": 398772235689507,
											"parameters": [
												"next_npc_name",
												"next_npc_spawn_tile_x",
												"next_npc_spawn_tile_y",
												"next_npc_color"
											]
										}
									],
									"sid": 447129626260422
								}
							]
						}
					]
				}
			]
		},
		{
			"eventType": "variable",
			"name": "SpawnX",
			"type": "number",
			"initialValue": "192",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 797962910566927
		},
		{
			"eventType": "variable",
			"name": "SpawnY",
			"type": "number",
			"initialValue": "208",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 223322819263048
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Player",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"functionName": "SpawnPlayer",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "x",
							"type": "number",
							"initialValue": "-1",
							"comment": "",
							"sid": 613594899470966
						},
						{
							"name": "y",
							"type": "number",
							"initialValue": "-1",
							"comment": "",
							"sid": 738683873555297
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 416502490997456,
							"parameters": {
								"object-to-create": "BasePlayer",
								"layer": "\"GameTest\"",
								"x": "x",
								"y": "y",
								"create-hierarchy": true,
								"template-name": "\"\""
							}
						}
					],
					"sid": 803842671045284
				}
			],
			"sid": 661958588697651
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "NPC",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-overlapping-another-object",
							"objectClass": "BasePlayer",
							"sid": 406908065245376,
							"parameters": {
								"object": "InteractRange"
							}
						},
						{
							"id": "layer-is-visible",
							"objectClass": "System",
							"sid": 490701414654864,
							"parameters": {
								"layer": "\"HUD_Dialog\""
							},
							"isInverted": true
						}
					],
					"actions": [],
					"sid": 725546363717872,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-parent",
									"objectClass": "InteractRange",
									"sid": 484917103102445,
									"parameters": {
										"parent": "BaseNPC",
										"which": "own"
									}
								}
							],
							"actions": [
								{
									"id": "set-layer-visible",
									"objectClass": "System",
									"sid": 302149116739222,
									"parameters": {
										"layer": "\"HUD_Dialog\"",
										"visibility": "visible"
									}
								},
								{
									"id": "set-layout-scale",
									"objectClass": "System",
									"sid": 417145282850598,
									"disabled": true,
									"parameters": {
										"scale": "1.5"
									}
								}
							],
							"sid": 307804903532677,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-comparison",
											"objectClass": "System",
											"sid": 752040195960390,
											"parameters": {
												"object": "Text",
												"expression": "Text.TemplateName",
												"comparison": 0,
												"value": "\"DialogText\""
											}
										}
									],
									"actions": [
										{
											"id": "typewriter-text",
											"objectClass": "Text",
											"sid": 998621094661548,
											"parameters": {
												"text": "BaseNPC.DialogLineTest",
												"duration": "len(BaseNPC.DialogLineTest) * 0.04"
											}
										}
									],
									"sid": 428325566040885
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-comparison",
											"objectClass": "System",
											"sid": 959540092277400,
											"parameters": {
												"object": "Text",
												"expression": "Text.TemplateName",
												"comparison": 0,
												"value": "\"DialogNameL\""
											}
										}
									],
									"actions": [
										{
											"id": "set-text",
											"objectClass": "Text",
											"sid": 232367954565582,
											"parameters": {
												"text": "\"Player\""
											}
										}
									],
									"sid": 131025683065513
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-comparison",
											"objectClass": "System",
											"sid": 624116060795331,
											"parameters": {
												"object": "Text",
												"expression": "Text.TemplateName",
												"comparison": 0,
												"value": "\"DialogNameR\""
											}
										}
									],
									"actions": [
										{
											"id": "set-text",
											"objectClass": "Text",
											"sid": 729449450395820,
											"parameters": {
												"text": "BaseNPC.NPCName"
											}
										}
									],
									"sid": 732583486006568
								}
							]
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-overlapping-another-object",
							"objectClass": "BasePlayer",
							"sid": 493129267598179,
							"parameters": {
								"object": "InteractRange"
							},
							"isInverted": true
						},
						{
							"id": "layer-is-visible",
							"objectClass": "System",
							"sid": 230237284207019,
							"parameters": {
								"layer": "\"HUD_Dialog\""
							}
						}
					],
					"actions": [
						{
							"id": "set-layout-scale",
							"objectClass": "System",
							"sid": 705125961222913,
							"disabled": true,
							"parameters": {
								"scale": "1"
							}
						},
						{
							"id": "set-layer-visible",
							"objectClass": "System",
							"sid": 628991204437274,
							"parameters": {
								"layer": "\"HUD_Dialog\"",
								"visibility": "invisible"
							}
						}
					],
					"sid": 137501587002442
				},
				{
					"functionName": "SpawnNPC",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "name",
							"type": "string",
							"initialValue": "NULL",
							"comment": "",
							"sid": 486975639752168
						},
						{
							"name": "tile_x",
							"type": "number",
							"initialValue": "-1",
							"comment": "",
							"sid": 829943118363645
						},
						{
							"name": "tile_y",
							"type": "number",
							"initialValue": "-1",
							"comment": "",
							"sid": 727273741215570
						},
						{
							"name": "json_rgb",
							"type": "string",
							"initialValue": "NULL",
							"comment": "",
							"sid": 320406990294232
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 733183816206556,
							"parameters": {
								"object-to-create": "BaseNPC",
								"layer": "\"GameTest\"",
								"x": "tile_x * TileSize",
								"y": "tile_y * TileSize",
								"create-hierarchy": true,
								"template-name": "\"\""
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "BaseNPC",
							"sid": 961692330781037,
							"parameters": {
								"instance-variable": "NPCName",
								"value": "name"
							}
						}
					],
					"sid": 416711344141598,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-children",
									"objectClass": "BaseNPC",
									"sid": 512034463811397,
									"parameters": {
										"child": "Text",
										"which": "own"
									}
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 352971992269580,
									"parameters": {
										"first-value": "Text.TemplateName",
										"comparison": 0,
										"second-value": "\"NPCName\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "Text",
									"sid": 955132685943665,
									"parameters": {
										"text": "BaseNPC.NPCName"
									}
								}
							],
							"sid": 455279945454552
						},
						{
							"eventType": "variable",
							"name": "r",
							"type": "number",
							"initialValue": "-1",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 612640387229625
						},
						{
							"eventType": "variable",
							"name": "g",
							"type": "number",
							"initialValue": "-1",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 565432463425934
						},
						{
							"eventType": "variable",
							"name": "b",
							"type": "number",
							"initialValue": "-1",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 776922215209117
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 208202682248233,
									"parameters": {
										"variable": "json_rgb",
										"comparison": 1,
										"value": "\"NULL\""
									}
								}
							],
							"actions": [
								{
									"id": "parse",
									"objectClass": "JsonRGB",
									"sid": 890424428698994,
									"parameters": {
										"data": "json_rgb"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 190472503383849,
									"parameters": {
										"variable": "r",
										"value": "JsonRGB.Get(\"0\")"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 734087203937179,
									"parameters": {
										"variable": "g",
										"value": "JsonRGB.Get(\"1\")"
									}
								},
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 688349179607104,
									"parameters": {
										"variable": "b",
										"value": "JsonRGB.Get(\"2\")"
									}
								},
								{
									"id": "set-default-color",
									"objectClass": "BaseNPC",
									"sid": 685461433538558,
									"parameters": {
										"color": "rgbEx255(r, g, b)"
									}
								}
							],
							"sid": 368944595236018
						}
					]
				},
				{
					"functionName": "UpdateNPCs",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 578722211676423,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 180765565066552,
									"parameters": {
										"object": "BaseNPC"
									}
								},
								{
									"id": "pick-children",
									"objectClass": "BaseNPC",
									"sid": 911634856318064,
									"parameters": {
										"child": "NPCArt",
										"which": "own"
									}
								}
							],
							"actions": [
								{
									"id": "set-position",
									"objectClass": "NPCArt",
									"sid": 781390988263184,
									"parameters": {
										"x": "lerp(Self.X, BaseNPC.X, EnemyMovementLerp)",
										"y": "lerp(Self.Y, BaseNPC.Y, EnemyMovementLerp)"
									}
								}
							],
							"sid": 980497038902650
						}
					]
				}
			],
			"sid": 574590694274813
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Map",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "BasePlayer",
							"sid": 889602078425832,
							"parameters": {
								"object": "MapTransitor"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 691955942140532,
							"parameters": {
								"variable": "SpawnX",
								"value": "MapTransitor.GotoX"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 603189445730708,
							"parameters": {
								"variable": "SpawnY",
								"value": "MapTransitor.GotoY"
							}
						},
						{
							"id": "go-to-layout-by-name",
							"objectClass": "System",
							"sid": 621314540342079,
							"parameters": {
								"layout": "MapTransitor.GotoLayout"
							}
						}
					],
					"sid": 761191892077283
				}
			],
			"sid": 785017649402965
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Enemy",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"functionName": "EnterBattlePhase",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-boolean-instvar",
							"objectClass": "BaseEnemy",
							"sid": 440870407640603,
							"parameters": {
								"instance-variable": "BattleActive",
								"value": "false"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 327879737687470,
							"parameters": {
								"variable": "SpawnX",
								"value": "BasePlayer.X"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 828800192024150,
							"parameters": {
								"variable": "SpawnY",
								"value": "BasePlayer.Y"
							}
						},
						{
							"id": "go-to-layout",
							"objectClass": "System",
							"sid": 512307630142624,
							"parameters": {
								"layout": "BattleTest"
							}
						},
						{
							"id": "destroy",
							"objectClass": "BaseEnemy",
							"sid": 496795985483248,
							"disabled": true
						},
						{
							"id": "set-animation-frame",
							"objectClass": "BaseEnemy",
							"sid": 304335294807487,
							"parameters": {
								"frame-number": "1"
							}
						}
					],
					"sid": 372556841243654
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "BasePlayer",
							"sid": 801822390179090,
							"parameters": {
								"object": "BaseEnemy"
							}
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "BaseEnemy",
							"sid": 718767217927829,
							"parameters": {
								"instance-variable": "BattleActive"
							}
						},
						{
							"id": "is-on-floor",
							"objectClass": "PlatformSimPlayer",
							"sid": 193966172195752,
							"behaviorType": "Platform"
						}
					],
					"actions": [
						{
							"callFunction": "EnterBattlePhase",
							"sid": 508277374688997
						}
					],
					"sid": 201495686826883
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-landed",
							"objectClass": "PlatformSimPlayer",
							"sid": 278159271678607,
							"behaviorType": "Platform"
						},
						{
							"id": "is-overlapping-another-object",
							"objectClass": "BasePlayer",
							"sid": 514769237734906,
							"parameters": {
								"object": "BaseEnemy"
							}
						}
					],
					"actions": [],
					"sid": 423198126205837,
					"children": [
						{
							"eventType": "comment",
							"text": "Player is above the enemy"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-y",
									"objectClass": "BasePlayer",
									"sid": 755911166714632,
									"parameters": {
										"comparison": 2,
										"y-co-ordinate": "BaseEnemy.Y - 16"
									}
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "BaseEnemy",
									"sid": 643461262586855
								}
							],
							"sid": 850345173034267
						},
						{
							"eventType": "comment",
							"text": "Player is bellow the enemy"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 970391700923863
								}
							],
							"actions": [
								{
									"callFunction": "EnterBattlePhase",
									"sid": 448322006043695
								}
							],
							"sid": 896230281390523
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-overlapping-another-object",
							"objectClass": "BasePlayer",
							"sid": 745143105509112,
							"parameters": {
								"object": "BaseEnemy"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-boolean-instvar",
							"objectClass": "BaseEnemy",
							"sid": 730476685039173,
							"parameters": {
								"instance-variable": "BattleActive",
								"value": "true"
							}
						},
						{
							"id": "set-animation-frame",
							"objectClass": "BaseEnemy",
							"sid": 336632577153976,
							"parameters": {
								"frame-number": "0"
							}
						}
					],
					"sid": 166412974217644
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-timer",
							"objectClass": "BaseEnemy",
							"sid": 390675523148274,
							"behaviorType": "Timer",
							"parameters": {
								"tag": "\"Update\""
							}
						}
					],
					"actions": [],
					"sid": 782275423553081,
					"children": [
						{
							"eventType": "variable",
							"name": "random_num",
							"type": "number",
							"initialValue": "-1",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 287407294511004
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 959260823069323,
									"parameters": {
										"variable": "random_num",
										"value": "random(0,1)"
									}
								}
							],
							"sid": 924561203206839
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 771531129818716,
									"parameters": {
										"variable": "random_num",
										"comparison": 2,
										"value": "0.25"
									}
								}
							],
							"actions": [],
							"sid": 704089098005475,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-overlapping-at-offset",
											"objectClass": "BaseEnemy",
											"sid": 349344909160064,
											"parameters": {
												"object": "BaseNPC",
												"offset-x": "0",
												"offset-y": "-32"
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "simulate-control",
											"objectClass": "BaseEnemy",
											"sid": 483038467040543,
											"behaviorType": "TileMovement",
											"parameters": {
												"control": "up"
											}
										}
									],
									"sid": 562980338608115
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 298877038176083
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 277553293607310,
									"parameters": {
										"variable": "random_num",
										"comparison": 2,
										"value": "0.5"
									}
								}
							],
							"actions": [],
							"sid": 611278404110722,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-overlapping-at-offset",
											"objectClass": "BaseEnemy",
											"sid": 425309302215192,
											"parameters": {
												"object": "BaseNPC",
												"offset-x": "-32",
												"offset-y": "0"
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "simulate-control",
											"objectClass": "BaseEnemy",
											"sid": 379123015076878,
											"behaviorType": "TileMovement",
											"parameters": {
												"control": "left"
											}
										}
									],
									"sid": 678671174666610
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 777166248653618
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 967128697999717,
									"parameters": {
										"variable": "random_num",
										"comparison": 2,
										"value": "0.75"
									}
								}
							],
							"actions": [],
							"sid": 662438953978511,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-overlapping-at-offset",
											"objectClass": "BaseEnemy",
											"sid": 291815492379409,
											"parameters": {
												"object": "BaseNPC",
												"offset-x": "0",
												"offset-y": "32"
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "simulate-control",
											"objectClass": "BaseEnemy",
											"sid": 354550937149433,
											"behaviorType": "TileMovement",
											"parameters": {
												"control": "down"
											}
										}
									],
									"sid": 462623155338009
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 827765796448805
								}
							],
							"actions": [],
							"sid": 888767327911979,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-overlapping-at-offset",
											"objectClass": "BaseEnemy",
											"sid": 829707027703685,
											"parameters": {
												"object": "BaseNPC",
												"offset-x": "32",
												"offset-y": "0"
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "simulate-control",
											"objectClass": "BaseEnemy",
											"sid": 723849358143132,
											"behaviorType": "TileMovement",
											"parameters": {
												"control": "right"
											}
										}
									],
									"sid": 723001189414788
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "start-timer",
									"objectClass": "BaseEnemy",
									"sid": 436019953932260,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "random(2, 4)",
										"type": "once",
										"tag": "\"Update\""
									}
								}
							],
							"sid": 608272240721365
						}
					]
				},
				{
					"functionName": "InitEnemies",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 160604932933923,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 447678731829872,
									"parameters": {
										"object": "BaseEnemy"
									}
								}
							],
							"actions": [
								{
									"id": "start-timer",
									"objectClass": "BaseEnemy",
									"sid": 457970480520800,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "random(2, 4)",
										"type": "once",
										"tag": "\"Update\""
									}
								}
							],
							"sid": 647871781651719
						}
					]
				},
				{
					"functionName": "SpawnEnemy",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "spawn_x",
							"type": "number",
							"initialValue": "-1",
							"comment": "",
							"sid": 688456415968001
						},
						{
							"name": "spawn_y",
							"type": "number",
							"initialValue": "-1",
							"comment": "",
							"sid": 182758624636922
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 323066871599660,
							"parameters": {
								"object-to-create": "BaseEnemy",
								"layer": "\"GameTest\"",
								"x": "spawn_x",
								"y": "spawn_y",
								"create-hierarchy": true,
								"template-name": "\"\""
							}
						}
					],
					"sid": 283799771628672
				},
				{
					"functionName": "UpdateEnemies",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 989507905436447,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 447809370294659,
									"parameters": {
										"object": "BaseEnemy"
									}
								},
								{
									"id": "pick-children",
									"objectClass": "BaseEnemy",
									"sid": 377909201652412,
									"parameters": {
										"child": "EnemyArt",
										"which": "own"
									}
								}
							],
							"actions": [
								{
									"id": "set-position",
									"objectClass": "EnemyArt",
									"sid": 689116194340721,
									"parameters": {
										"x": "lerp(Self.X, BaseEnemy.X, EnemyMovementLerp)",
										"y": "lerp(Self.Y, BaseEnemy.Y, EnemyMovementLerp)"
									}
								}
							],
							"sid": 416956149297771
						}
					]
				}
			],
			"sid": 817983312748385
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Controls",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 734675776997046,
							"parameters": {
								"key": 71
							}
						}
					],
					"actions": [],
					"sid": 172000288020953,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "layer-is-visible",
									"objectClass": "System",
									"sid": 199533766619617,
									"parameters": {
										"layer": "\"Debug\""
									}
								}
							],
							"actions": [
								{
									"id": "set-layer-visible",
									"objectClass": "System",
									"sid": 358791973025735,
									"parameters": {
										"layer": "\"Debug\"",
										"visibility": "invisible"
									}
								}
							],
							"sid": 856220985396782
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 400876278084953
								}
							],
							"actions": [
								{
									"id": "set-layer-visible",
									"objectClass": "System",
									"sid": 713480652971105,
									"parameters": {
										"layer": "\"Debug\"",
										"visibility": "visible"
									}
								}
							],
							"sid": 779094503529769
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-key-pressed",
							"objectClass": "Keyboard",
							"sid": 599383096449376,
							"parameters": {
								"key": 32
							}
						}
					],
					"actions": [
						{
							"id": "simulate-control",
							"objectClass": "PlatformSimPlayer",
							"sid": 219083447741533,
							"behaviorType": "Platform",
							"parameters": {
								"control": "jump"
							}
						}
					],
					"sid": 567161834462726
				}
			],
			"sid": 187908895224425
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Debugging",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-changed",
							"objectClass": "SliderBar",
							"sid": 807662092567926
						},
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 317004515329085,
							"parameters": {
								"first-value": "SliderBar.TemplateName",
								"comparison": 0,
								"second-value": "\"Debug_CurrentCameraLerp\""
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 256996595655514,
							"parameters": {
								"variable": "CurrentCameraLerp",
								"value": "SliderBar.Value"
							}
						}
					],
					"sid": 915539270271098
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-changing",
							"objectClass": "SliderBar",
							"sid": 840694931020011
						},
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 192496190665103,
							"parameters": {
								"first-value": "SliderBar.TemplateName",
								"comparison": 0,
								"second-value": "\"Debug_CurrentCameraLerp\""
							}
						},
						{
							"id": "pick-by-comparison",
							"objectClass": "System",
							"sid": 332934301728245,
							"parameters": {
								"object": "Text",
								"expression": "Text.TemplateName",
								"comparison": 0,
								"value": "\"Debug_CurrentCameraLerp\""
							}
						}
					],
					"actions": [
						{
							"id": "set-text",
							"objectClass": "Text",
							"sid": 823660642188538,
							"parameters": {
								"text": "SliderBar.Value"
							}
						}
					],
					"sid": 718396281630522
				},
				{
					"functionName": "UpdateDebugTexts",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 256192044362227,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-comparison",
									"objectClass": "System",
									"sid": 644325188923568,
									"parameters": {
										"object": "Text",
										"expression": "Text.TemplateName",
										"comparison": 0,
										"value": "\"Debug_FPSCounter\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "Text",
									"sid": 208931161034549,
									"parameters": {
										"text": "fps"
									}
								}
							],
							"sid": 147035033426384
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-comparison",
									"objectClass": "System",
									"sid": 256641450656112,
									"parameters": {
										"object": "Text",
										"expression": "Text.TemplateName",
										"comparison": 0,
										"value": "\"Debug_CurrentJumpOffset\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "Text",
									"sid": 956321603911554,
									"parameters": {
										"text": "floor(CurrentJumpOffset)"
									}
								}
							],
							"sid": 560968390923617
						}
					]
				}
			],
			"sid": 484834499556035
		}
	],
	"sid": 645216574575648
}